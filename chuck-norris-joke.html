<!-- Copyright (C) 2014 Erik Ringsmuth - MIT license -->
<script>
(function() {
  var HTMLChuckNorrisJokeElement = Object.create(HTMLAnchorElement.prototype);

  HTMLChuckNorrisJokeElement.createdCallback = function() {
    var xhr = new XMLHttpRequest();
    xhr.open('GET', 'http://api.icndb.com/jokes/random');
    xhr.onload = function(response) {
      this.innerText = JSON.parse(response.currentTarget.response).value.joke;
    }.bind(this);
    xhr.send();
  };

  document.registerElement('chuck-norris-joke', { prototype: HTMLChuckNorrisJokeElement });
})();
</script>